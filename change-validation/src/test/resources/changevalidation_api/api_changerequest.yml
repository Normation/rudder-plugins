description: List all change requests
method: GET
url: /api/latest/changeRequests
params:
  status: all
response:
  code: 200
  content: >-
    {
      "action" : "listChangeRequests",
      "result" : "success",
      "data" : [
        {
          "id" : 1,
          "displayName" : "first cr directive",
          "status" : "Pending validation",
          "created by" : "test-user",
          "acceptable" : true,
          "description" : "My directive first change",
          "changes" : {
            "directives" : [
              {
                "action" : "create",
                "change" : {
                  "type" : "DirectiveCreateChangeJson",
                  "id" : "16617aa8-1f02-4e4a-87b6-d0bcdfb4019f",
                  "displayName" : "directive 16617aa8-1f02-4e4a-87b6-d0bcdfb4019f",
                  "shortDescription" : "",
                  "longDescription" : "",
                  "techniqueName" : "packageManagement",
                  "techniqueVersion" : "1.0",
                  "parameters" : {
                    "section" : {
                      "name" : "sections",
                      "sections" : [
                        {
                          "section" : {
                            "name" : "Package",
                            "vars" : [
                              {
                                "var" : {
                                  "name" : "PACKAGE_LIST",
                                  "value" : "htop"
                                }
                              },
                              {
                                "var" : {
                                  "name" : "PACKAGE_STATE",
                                  "value" : "present"
                                }
                              }
                            ],
                            "sections" : [
                              {
                                "section" : {
                                  "name" : "Package architecture",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_ARCHITECTURE",
                                        "value" : "default"
                                      }
                                    },
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_ARCHITECTURE_SPECIFIC",
                                        "value" : ""
                                      }
                                    }
                                  ]
                                }
                              },
                              {
                                "section" : {
                                  "name" : "Package manager",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_MANAGER",
                                        "value" : "default"
                                      }
                                    }
                                  ]
                                }
                              },
                              {
                                "section" : {
                                  "name" : "Package version",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_VERSION",
                                        "value" : "latest"
                                      }
                                    },
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_VERSION_SPECIFIC",
                                        "value" : ""
                                      }
                                    }
                                  ]
                                }
                              },
                              {
                                "section" : {
                                  "name" : "Post-modification script",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_POST_HOOK_COMMAND",
                                        "value" : ""
                                      }
                                    }
                                  ]
                                }
                              }
                            ]
                          }
                        },
                        {
                          "section" : {
                            "name" : "Package",
                            "vars" : [
                              {
                                "var" : {
                                  "name" : "PACKAGE_LIST",
                                  "value" : "jq"
                                }
                              },
                              {
                                "var" : {
                                  "name" : "PACKAGE_STATE",
                                  "value" : "present"
                                }
                              }
                            ],
                            "sections" : [
                              {
                                "section" : {
                                  "name" : "Package architecture",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_ARCHITECTURE",
                                        "value" : "default"
                                      }
                                    },
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_ARCHITECTURE_SPECIFIC",
                                        "value" : ""
                                      }
                                    }
                                  ]
                                }
                              },
                              {
                                "section" : {
                                  "name" : "Package manager",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_MANAGER",
                                        "value" : "default"
                                      }
                                    }
                                  ]
                                }
                              },
                              {
                                "section" : {
                                  "name" : "Package version",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_VERSION",
                                        "value" : "latest"
                                      }
                                    },
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_VERSION_SPECIFIC",
                                        "value" : ""
                                      }
                                    }
                                  ]
                                }
                              },
                              {
                                "section" : {
                                  "name" : "Post-modification script",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_POST_HOOK_COMMAND",
                                        "value" : ""
                                      }
                                    }
                                  ]
                                }
                              }
                            ]
                          }
                        }
                      ]
                    }
                  },
                  "priority" : 5,
                  "enabled" : false,
                  "system" : false,
                  "policyMode" : "default",
                  "tags" : []
                }
              }
            ],
            "rules" : [],
            "groups" : [],
            "parameters" : []
          }
        },
        {
          "id" : 2,
          "displayName" : "second cr directive",
          "status" : "Pending validation",
          "created by" : "test-user",
          "acceptable" : true,
          "description" : "My directive second change",
          "changes" : {
            "directives" : [
              {
                "action" : "modify",
                "change" : {
                  "type" : "DirectiveModifyChangeJson",
                  "id" : "16617aa8-1f02-4e4a-87b6-d0bcdfb4019f",
                  "displayName" : {
                    "from" : "directive 16617aa8-1f02-4e4a-87b6-d0bcdfb4019f",
                    "to" : "pkg_directive_001"
                  },
                  "shortDescription" : {
                    "from" : "",
                    "to" : "testing directive change"
                  },
                  "longDescription" : {
                    "from" : "",
                    "to" : "testing directive change"
                  },
                  "techniqueName" : "packageManagement",
                  "techniqueVersion" : "1.0",
                  "parameters" : {
                    "from" : {
                      "section" : {
                        "name" : "sections",
                        "vars" : [
                          {
                            "var" : {
                              "name" : "PACKAGE_LIST",
                              "value" : "htop"
                            }
                          },
                          {
                            "var" : {
                              "name" : "PACKAGE_STATE",
                              "value" : "present"
                            }
                          }
                        ],
                        "sections" : [
                          {
                            "name" : "Package",
                            "sections" : [
                              {
                                "name" : "Package architecture",
                                "sections" : [
                                  {
                                    "name" : "Package architecture",
                                    "sections" : [
                                      {
                                        "name" : "PACKAGE_ARCHITECTURE",
                                        "sections" : [
                                          {
                                            "name" : "PACKAGE_ARCHITECTURE_SPECIFIC"
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "name" : "Package manager",
                                "sections" : [
                                  {
                                    "name" : "PACKAGE_MANAGER"
                                  }
                                ]
                              },
                              {
                                "name" : "Package version",
                                "sections" : [
                                  {
                                    "name" : "PACKAGE_VERSION",
                                    "sections" : [
                                      {
                                        "name" : "PACKAGE_VERSION_SPECIFIC"
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "name" : "Post-modification script",
                                "sections" : [
                                  {
                                    "name" : "PACKAGE_POST_HOOK_COMMAND"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    },
                    "to" : {
                      "section" : {
                        "name" : "sections",
                        "vars" : [
                          {
                            "var" : {
                              "name" : "PACKAGE_LIST",
                              "value" : "curl"
                            }
                          },
                          {
                            "var" : {
                              "name" : "PACKAGE_STATE",
                              "value" : "present"
                            }
                          }
                        ],
                        "sections" : [
                          {
                            "name" : "Package",
                            "sections" : [
                              {
                                "name" : "Package architecture",
                                "sections" : [
                                  {
                                    "name" : "Package architecture",
                                    "sections" : [
                                      {
                                        "name" : "PACKAGE_ARCHITECTURE",
                                        "sections" : [
                                          {
                                            "name" : "PACKAGE_ARCHITECTURE_SPECIFIC"
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "name" : "Package manager",
                                "sections" : [
                                  {
                                    "name" : "PACKAGE_MANAGER"
                                  }
                                ]
                              },
                              {
                                "name" : "Package version",
                                "sections" : [
                                  {
                                    "name" : "PACKAGE_VERSION",
                                    "sections" : [
                                      {
                                        "name" : "PACKAGE_VERSION_SPECIFIC"
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "name" : "Post-modification script",
                                "sections" : [
                                  {
                                    "name" : "PACKAGE_POST_HOOK_COMMAND"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    }
                  },
                  "priority" : {
                    "from" : 5,
                    "to" : 1
                  },
                  "enabled" : {
                    "from" : false,
                    "to" : true
                  },
                  "system" : false
                }
              }
            ],
            "rules" : [],
            "groups" : [],
            "parameters" : []
          }
        },
        {
          "id" : 3,
          "displayName" : "third cr directive",
          "status" : "Pending validation",
          "created by" : "test-user",
          "acceptable" : true,
          "description" : "My directive third change",
          "changes" : {
            "directives" : [
              {
                "action" : "delete",
                "change" : {
                  "type" : "DirectiveDeleteChangeJson",
                  "id" : "16617aa8-1f02-4e4a-87b6-d0bcdfb4019f",
                  "displayName" : "directive 16617aa8-1f02-4e4a-87b6-d0bcdfb4019f",
                  "shortDescription" : "",
                  "longDescription" : "",
                  "techniqueName" : "packageManagement",
                  "techniqueVersion" : "1.0",
                  "parameters" : {
                    "section" : {
                      "name" : "sections",
                      "sections" : [
                        {
                          "section" : {
                            "name" : "Package",
                            "vars" : [
                              {
                                "var" : {
                                  "name" : "PACKAGE_LIST",
                                  "value" : "htop"
                                }
                              },
                              {
                                "var" : {
                                  "name" : "PACKAGE_STATE",
                                  "value" : "present"
                                }
                              }
                            ],
                            "sections" : [
                              {
                                "section" : {
                                  "name" : "Package architecture",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_ARCHITECTURE",
                                        "value" : "default"
                                      }
                                    },
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_ARCHITECTURE_SPECIFIC",
                                        "value" : ""
                                      }
                                    }
                                  ]
                                }
                              },
                              {
                                "section" : {
                                  "name" : "Package manager",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_MANAGER",
                                        "value" : "default"
                                      }
                                    }
                                  ]
                                }
                              },
                              {
                                "section" : {
                                  "name" : "Package version",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_VERSION",
                                        "value" : "latest"
                                      }
                                    },
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_VERSION_SPECIFIC",
                                        "value" : ""
                                      }
                                    }
                                  ]
                                }
                              },
                              {
                                "section" : {
                                  "name" : "Post-modification script",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_POST_HOOK_COMMAND",
                                        "value" : ""
                                      }
                                    }
                                  ]
                                }
                              }
                            ]
                          }
                        },
                        {
                          "section" : {
                            "name" : "Package",
                            "vars" : [
                              {
                                "var" : {
                                  "name" : "PACKAGE_LIST",
                                  "value" : "jq"
                                }
                              },
                              {
                                "var" : {
                                  "name" : "PACKAGE_STATE",
                                  "value" : "present"
                                }
                              }
                            ],
                            "sections" : [
                              {
                                "section" : {
                                  "name" : "Package architecture",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_ARCHITECTURE",
                                        "value" : "default"
                                      }
                                    },
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_ARCHITECTURE_SPECIFIC",
                                        "value" : ""
                                      }
                                    }
                                  ]
                                }
                              },
                              {
                                "section" : {
                                  "name" : "Package manager",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_MANAGER",
                                        "value" : "default"
                                      }
                                    }
                                  ]
                                }
                              },
                              {
                                "section" : {
                                  "name" : "Package version",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_VERSION",
                                        "value" : "latest"
                                      }
                                    },
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_VERSION_SPECIFIC",
                                        "value" : ""
                                      }
                                    }
                                  ]
                                }
                              },
                              {
                                "section" : {
                                  "name" : "Post-modification script",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_POST_HOOK_COMMAND",
                                        "value" : ""
                                      }
                                    }
                                  ]
                                }
                              }
                            ]
                          }
                        }
                      ]
                    }
                  },
                  "priority" : 5,
                  "enabled" : false,
                  "system" : false,
                  "policyMode" : "default",
                  "tags" : []
                }
              }
            ],
            "rules" : [],
            "groups" : [],
            "parameters" : []
          }
        },
        {
          "id" : 4,
          "displayName" : "first cr group",
          "status" : "Pending deployment",
          "created by" : "test-user",
          "acceptable" : true,
          "description" : "My group first change",
          "changes" : {
            "directives" : [],
            "rules" : [],
            "groups" : [
              {
                "action" : "create",
                "change" : {
                  "type" : "GroupCreateChangeJson",
                  "id" : "0000f5d3-8c61-4d20-88a7-bb947705ba8a",
                  "displayName" : "Real nodes",
                  "description" : "",
                  "nodeIds" : [
                    "node1",
                    "node2",
                    "root"
                  ],
                  "dynamic" : false,
                  "enabled" : true,
                  "groupClass" : [
                    "group_0000f5d3_8c61_4d20_88a7_bb947705ba8a",
                    "group_real_nodes"
                  ],
                  "properties" : [
                     {
                       "name" : "hiddenProp",
                       "value" : "hidden prop value"
                     },
                     {               
                      "name" : "jsonParam",
                      "value" : {
                        "array" : [
                          5,
                          6
                        ],
                        "group" : "string",
                        "json" : {
                          "g1" : "g1"
                        }
                      }
                    },
                    {
                      "name" : "stringParam",
                      "value" : "string",
                      "inheritMode" : "map",
                      "provider" : "datasources"
                    }
                  ],
                  "target" : "group:0000f5d3-8c61-4d20-88a7-bb947705ba8a",
                  "system" : false
                }
              }
            ],
            "parameters" : []
          }
        },
        {
          "id" : 5,
          "displayName" : "second cr group",
          "status" : "Pending deployment",
          "created by" : "test-user",
          "acceptable" : true,
          "description" : "My group second change",
          "changes" : {
            "directives" : [],
            "rules" : [],
            "groups" : [
              {
                "action" : "modify",
                "change" : {
                  "type" : "GroupModifyChangeJson",
                  "id" : "0000f5d3-8c61-4d20-88a7-bb947705ba8a",
                  "displayName" : {
                    "from" : "Real nodes",
                    "to" : "group_002"
                  },
                  "description" : {
                    "from" : "",
                    "to" : "testing node group change"
                  },
                  "query" : {
                    "to" : "{ returnType:'node' (identity) with 'And' criteria [] }"
                  },
                  "properties" : {
                    "from" : [
                      {
                        "name" : "hiddenProp",
                        "value" : "hidden prop value"
                      },
                      {
                        "name" : "jsonParam",
                        "value" : {
                          "array" : [
                            5,
                            6
                          ],
                          "group" : "string",
                          "json" : {
                            "g1" : "g1"
                          }
                        }
                      },
                      {
                        "name" : "stringParam",
                        "value" : "string",
                        "provider" : "datasources",
                        "inheritMode" : "map"
                      }
                    ],
                    "to" : [
                      {
                        "name" : "stringParam",
                        "value" : "string",
                        "provider" : "datasources",
                        "inheritMode" : "map"
                      }
                    ]
                  },
                  "nodeIds" : {
                    "from" : [
                      "root",
                      "node1",
                      "node2"
                    ],
                    "to" : [
                      "root"
                    ]
                  },
                  "dynamic" : {
                    "from" : false,
                    "to" : true
                  },
                  "enabled" : {
                    "from" : true,
                    "to" : false
                  }
                }
              }
            ],
            "parameters" : []
          }
        },
        {
          "id" : 6,
          "displayName" : "third cr group",
          "status" : "Pending deployment",
          "created by" : "test-user",
          "acceptable" : true,
          "description" : "My group third change",
          "changes" : {
            "directives" : [],
            "rules" : [],
            "groups" : [
              {
                "action" : "delete",
                "change" : {
                  "type" : "GroupDeleteChangeJson",
                  "id" : "0000f5d3-8c61-4d20-88a7-bb947705ba8a",
                  "displayName" : "Real nodes",
                  "description" : "",
                  "nodeIds" : [
                    "node1",
                    "node2",
                    "root"
                  ],
                  "dynamic" : false,
                  "enabled" : true,
                  "groupClass" : [
                    "group_0000f5d3_8c61_4d20_88a7_bb947705ba8a",
                    "group_real_nodes"
                  ],
                  "properties" : [
                    {
                       "name" : "hiddenProp",
                       "value" : "hidden prop value"
                     },
                     {
                      "name" : "jsonParam",
                      "value" : {
                        "array" : [
                          5,
                          6
                        ],
                        "group" : "string",
                        "json" : {
                          "g1" : "g1"
                        }
                      }
                    },
                    {
                      "name" : "stringParam",
                      "value" : "string",
                      "inheritMode" : "map",
                      "provider" : "datasources"
                    }
                  ],
                  "target" : "group:0000f5d3-8c61-4d20-88a7-bb947705ba8a",
                  "system" : false
                }
              }
            ],
            "parameters" : []
          }
        },
        {
          "id" : 7,
          "displayName" : "first cr rule",
          "status" : "Deployed",
          "created by" : "test-user",
          "acceptable" : true,
          "description" : "My rule first change",
          "changes" : {
            "directives" : [],
            "rules" : [
              {
                "action" : "create",
                "change" : {
                  "type" : "RuleCreateChangeJson",
                  "id" : "rule2",
                  "displayName" : "50. Deploy PLOP STACK",
                  "categoryId" : "rootRuleCategory",
                  "shortDescription" : "global config for all nodes",
                  "longDescription" : "",
                  "directives" : [
                    "directive2"
                  ],
                  "targets" : [
                    "special:all"
                  ],
                  "enabled" : true,
                  "system" : false,
                  "tags" : [
                    {
                      "key" : "value"
                    }
                  ]
                }
              }
            ],
            "groups" : [],
            "parameters" : []
          }
        },
        {
          "id" : 8,
          "displayName" : "second cr rule",
          "status" : "Deployed",
          "created by" : "test-user",
          "acceptable" : true,
          "description" : "My rule second change",
          "changes" : {
            "directives" : [],
            "rules" : [
              {
                "action" : "modify",
                "change" : {
                  "type" : "RuleModifyChangeJson",
                  "id" : "rule2",
                  "displayName" : {
                    "from" : "50. Deploy PLOP STACK",
                    "to" : "rule_002"
                  },
                  "shortDescription" : {
                    "from" : "global config for all nodes",
                    "to" : "testing rule change"
                  },
                  "longDescription" : {
                    "from" : "",
                    "to" : "testing rule change"
                  },
                  "directives" : {
                    "from" : [
                      "directive2"
                    ],
                    "to" : [
                      "directive1"
                    ]
                  },
                  "targets" : {
                    "from" : [
                      "special:all"
                    ],
                    "to" : [
                      "special:all_exceptPolicyServers"
                    ]
                  },
                  "enabled" : {
                    "from" : true,
                    "to" : false
                  }
                }
              }
            ],
            "groups" : [],
            "parameters" : []
          }
        },
        {
          "id" : 9,
          "displayName" : "third cr rule",
          "status" : "Deployed",
          "created by" : "test-user",
          "acceptable" : true,
          "description" : "My rule third change",
          "changes" : {
            "directives" : [],
            "rules" : [
              {
                "action" : "delete",
                "change" : {
                  "type" : "RuleDeleteChangeJson",
                  "id" : "rule2",
                  "displayName" : "50. Deploy PLOP STACK",
                  "categoryId" : "rootRuleCategory",
                  "shortDescription" : "global config for all nodes",
                  "longDescription" : "",
                  "directives" : [
                    "directive2"
                  ],
                  "targets" : [
                    "special:all"
                  ],
                  "enabled" : true,
                  "system" : false,
                  "tags" : []
                }
              }
            ],
            "groups" : [],
            "parameters" : []
          }
        },
        {
          "id" : 10,
          "displayName" : "first cr global param",
          "status" : "Cancelled",
          "created by" : "test-user",
          "acceptable" : true,
          "description" : "My global param first change",
          "changes" : {
            "directives" : [],
            "rules" : [],
            "groups" : [],
            "parameters" : [
              {
                "action" : "create",
                "change" : {
                  "type" : "GlobalParameterCreateChangeJson",
                  "id" : "jsonParam",
                  "value" : {
                    "array" : [
                      1,
                      3,
                      2
                    ],
                    "json" : {
                      "var1" : "val1",
                      "var2" : "val2"
                    },
                    "string" : "a string"
                  },
                  "description" : "a simple string param"
                }
              }
            ]
          }
        },
        {
          "id" : 11,
          "displayName" : "second cr global param",
          "status" : "Cancelled",
          "created by" : "test-user",
          "acceptable" : true,
          "description" : "My global param second change",
          "changes" : {
            "directives" : [],
            "rules" : [],
            "groups" : [],
            "parameters" : [
              {
                "action" : "modify",
                "change" : {
                  "type" : "GlobalParameterModifyChangeJson",
                  "name" : "jsonParam",
                  "description" : {
                    "from" : "a simple string param",
                    "to" : "testing global param change"
                  },
                  "value" : {
                    "from" : "{\"array\":[1,3,2],\"json\":{\"var1\":\"val1\",\"var2\":\"val2\"},\"string\":\"a string\"}",
                    "to" : "some string"
                  }
                }
              }
            ]
          }
        },
        {
          "id" : 12,
          "displayName" : "third cr global param",
          "status" : "Cancelled",
          "created by" : "test-user",
          "acceptable" : true,
          "description" : "My global param third change",
          "changes" : {
            "directives" : [],
            "rules" : [],
            "groups" : [],
            "parameters" : [
              {
                "action" : "delete",
                "change" : {
                  "type" : "GlobalParameterDeleteChangeJson",
                  "id" : "jsonParam",
                  "value" : {
                    "array" : [
                      1,
                      3,
                      2
                    ],
                    "json" : {
                      "var1" : "val1",
                      "var2" : "val2"
                    },
                    "string" : "a string"
                  },
                  "description" : "a simple string param"
                }
              }
            ]
          }
        }
      ]
    }
---
description: List all change requests by open status
method: GET
url: /api/latest/changeRequests
params:
  status: open
response:
  code: 200
  content: >-
    {
      "action" : "listChangeRequests",
      "result" : "success",
      "data" : [
        {
          "id" : 1,
          "displayName" : "first cr directive",
          "status" : "Pending validation",
          "created by" : "test-user",
          "acceptable" : true,
          "description" : "My directive first change",
          "changes" : {
            "directives" : [
              {
                "action" : "create",
                "change" : {
                  "type" : "DirectiveCreateChangeJson",
                  "id" : "16617aa8-1f02-4e4a-87b6-d0bcdfb4019f",
                  "displayName" : "directive 16617aa8-1f02-4e4a-87b6-d0bcdfb4019f",
                  "shortDescription" : "",
                  "longDescription" : "",
                  "techniqueName" : "packageManagement",
                  "techniqueVersion" : "1.0",
                  "parameters" : {
                    "section" : {
                      "name" : "sections",
                      "sections" : [
                        {
                          "section" : {
                            "name" : "Package",
                            "vars" : [
                              {
                                "var" : {
                                  "name" : "PACKAGE_LIST",
                                  "value" : "htop"
                                }
                              },
                              {
                                "var" : {
                                  "name" : "PACKAGE_STATE",
                                  "value" : "present"
                                }
                              }
                            ],
                            "sections" : [
                              {
                                "section" : {
                                  "name" : "Package architecture",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_ARCHITECTURE",
                                        "value" : "default"
                                      }
                                    },
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_ARCHITECTURE_SPECIFIC",
                                        "value" : ""
                                      }
                                    }
                                  ]
                                }
                              },
                              {
                                "section" : {
                                  "name" : "Package manager",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_MANAGER",
                                        "value" : "default"
                                      }
                                    }
                                  ]
                                }
                              },
                              {
                                "section" : {
                                  "name" : "Package version",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_VERSION",
                                        "value" : "latest"
                                      }
                                    },
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_VERSION_SPECIFIC",
                                        "value" : ""
                                      }
                                    }
                                  ]
                                }
                              },
                              {
                                "section" : {
                                  "name" : "Post-modification script",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_POST_HOOK_COMMAND",
                                        "value" : ""
                                      }
                                    }
                                  ]
                                }
                              }
                            ]
                          }
                        },
                        {
                          "section" : {
                            "name" : "Package",
                            "vars" : [
                              {
                                "var" : {
                                  "name" : "PACKAGE_LIST",
                                  "value" : "jq"
                                }
                              },
                              {
                                "var" : {
                                  "name" : "PACKAGE_STATE",
                                  "value" : "present"
                                }
                              }
                            ],
                            "sections" : [
                              {
                                "section" : {
                                  "name" : "Package architecture",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_ARCHITECTURE",
                                        "value" : "default"
                                      }
                                    },
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_ARCHITECTURE_SPECIFIC",
                                        "value" : ""
                                      }
                                    }
                                  ]
                                }
                              },
                              {
                                "section" : {
                                  "name" : "Package manager",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_MANAGER",
                                        "value" : "default"
                                      }
                                    }
                                  ]
                                }
                              },
                              {
                                "section" : {
                                  "name" : "Package version",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_VERSION",
                                        "value" : "latest"
                                      }
                                    },
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_VERSION_SPECIFIC",
                                        "value" : ""
                                      }
                                    }
                                  ]
                                }
                              },
                              {
                                "section" : {
                                  "name" : "Post-modification script",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_POST_HOOK_COMMAND",
                                        "value" : ""
                                      }
                                    }
                                  ]
                                }
                              }
                            ]
                          }
                        }
                      ]
                    }
                  },
                  "priority" : 5,
                  "enabled" : false,
                  "system" : false,
                  "policyMode" : "default",
                  "tags" : []
                }
              }
            ],
            "rules" : [],
            "groups" : [],
            "parameters" : []
          }
        },
        {
          "id" : 2,
          "displayName" : "second cr directive",
          "status" : "Pending validation",
          "created by" : "test-user",
          "acceptable" : true,
          "description" : "My directive second change",
          "changes" : {
            "directives" : [
              {
                "action" : "modify",
                "change" : {
                  "type" : "DirectiveModifyChangeJson",
                  "id" : "16617aa8-1f02-4e4a-87b6-d0bcdfb4019f",
                  "displayName" : {
                    "from" : "directive 16617aa8-1f02-4e4a-87b6-d0bcdfb4019f",
                    "to" : "pkg_directive_001"
                  },
                  "shortDescription" : {
                    "from" : "",
                    "to" : "testing directive change"
                  },
                  "longDescription" : {
                    "from" : "",
                    "to" : "testing directive change"
                  },
                  "techniqueName" : "packageManagement",
                  "techniqueVersion" : "1.0",
                  "parameters" : {
                    "from" : {
                      "section" : {
                        "name" : "sections",
                        "vars" : [
                          {
                            "var" : {
                              "name" : "PACKAGE_LIST",
                              "value" : "htop"
                            }
                          },
                          {
                            "var" : {
                              "name" : "PACKAGE_STATE",
                              "value" : "present"
                            }
                          }
                        ],
                        "sections" : [
                          {
                            "name" : "Package",
                            "sections" : [
                              {
                                "name" : "Package architecture",
                                "sections" : [
                                  {
                                    "name" : "Package architecture",
                                    "sections" : [
                                      {
                                        "name" : "PACKAGE_ARCHITECTURE",
                                        "sections" : [
                                          {
                                            "name" : "PACKAGE_ARCHITECTURE_SPECIFIC"
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "name" : "Package manager",
                                "sections" : [
                                  {
                                    "name" : "PACKAGE_MANAGER"
                                  }
                                ]
                              },
                              {
                                "name" : "Package version",
                                "sections" : [
                                  {
                                    "name" : "PACKAGE_VERSION",
                                    "sections" : [
                                      {
                                        "name" : "PACKAGE_VERSION_SPECIFIC"
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "name" : "Post-modification script",
                                "sections" : [
                                  {
                                    "name" : "PACKAGE_POST_HOOK_COMMAND"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    },
                    "to" : {
                      "section" : {
                        "name" : "sections",
                        "vars" : [
                          {
                            "var" : {
                              "name" : "PACKAGE_LIST",
                              "value" : "curl"
                            }
                          },
                          {
                            "var" : {
                              "name" : "PACKAGE_STATE",
                              "value" : "present"
                            }
                          }
                        ],
                        "sections" : [
                          {
                            "name" : "Package",
                            "sections" : [
                              {
                                "name" : "Package architecture",
                                "sections" : [
                                  {
                                    "name" : "Package architecture",
                                    "sections" : [
                                      {
                                        "name" : "PACKAGE_ARCHITECTURE",
                                        "sections" : [
                                          {
                                            "name" : "PACKAGE_ARCHITECTURE_SPECIFIC"
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "name" : "Package manager",
                                "sections" : [
                                  {
                                    "name" : "PACKAGE_MANAGER"
                                  }
                                ]
                              },
                              {
                                "name" : "Package version",
                                "sections" : [
                                  {
                                    "name" : "PACKAGE_VERSION",
                                    "sections" : [
                                      {
                                        "name" : "PACKAGE_VERSION_SPECIFIC"
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "name" : "Post-modification script",
                                "sections" : [
                                  {
                                    "name" : "PACKAGE_POST_HOOK_COMMAND"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    }
                  },
                  "priority" : {
                    "from" : 5,
                    "to" : 1
                  },
                  "enabled" : {
                    "from" : false,
                    "to" : true
                  },
                  "system" : false
                }
              }
            ],
            "rules" : [],
            "groups" : [],
            "parameters" : []
          }
        },
        {
          "id" : 3,
          "displayName" : "third cr directive",
          "status" : "Pending validation",
          "created by" : "test-user",
          "acceptable" : true,
          "description" : "My directive third change",
          "changes" : {
            "directives" : [
              {
                "action" : "delete",
                "change" : {
                  "type" : "DirectiveDeleteChangeJson",
                  "id" : "16617aa8-1f02-4e4a-87b6-d0bcdfb4019f",
                  "displayName" : "directive 16617aa8-1f02-4e4a-87b6-d0bcdfb4019f",
                  "shortDescription" : "",
                  "longDescription" : "",
                  "techniqueName" : "packageManagement",
                  "techniqueVersion" : "1.0",
                  "parameters" : {
                    "section" : {
                      "name" : "sections",
                      "sections" : [
                        {
                          "section" : {
                            "name" : "Package",
                            "vars" : [
                              {
                                "var" : {
                                  "name" : "PACKAGE_LIST",
                                  "value" : "htop"
                                }
                              },
                              {
                                "var" : {
                                  "name" : "PACKAGE_STATE",
                                  "value" : "present"
                                }
                              }
                            ],
                            "sections" : [
                              {
                                "section" : {
                                  "name" : "Package architecture",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_ARCHITECTURE",
                                        "value" : "default"
                                      }
                                    },
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_ARCHITECTURE_SPECIFIC",
                                        "value" : ""
                                      }
                                    }
                                  ]
                                }
                              },
                              {
                                "section" : {
                                  "name" : "Package manager",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_MANAGER",
                                        "value" : "default"
                                      }
                                    }
                                  ]
                                }
                              },
                              {
                                "section" : {
                                  "name" : "Package version",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_VERSION",
                                        "value" : "latest"
                                      }
                                    },
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_VERSION_SPECIFIC",
                                        "value" : ""
                                      }
                                    }
                                  ]
                                }
                              },
                              {
                                "section" : {
                                  "name" : "Post-modification script",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_POST_HOOK_COMMAND",
                                        "value" : ""
                                      }
                                    }
                                  ]
                                }
                              }
                            ]
                          }
                        },
                        {
                          "section" : {
                            "name" : "Package",
                            "vars" : [
                              {
                                "var" : {
                                  "name" : "PACKAGE_LIST",
                                  "value" : "jq"
                                }
                              },
                              {
                                "var" : {
                                  "name" : "PACKAGE_STATE",
                                  "value" : "present"
                                }
                              }
                            ],
                            "sections" : [
                              {
                                "section" : {
                                  "name" : "Package architecture",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_ARCHITECTURE",
                                        "value" : "default"
                                      }
                                    },
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_ARCHITECTURE_SPECIFIC",
                                        "value" : ""
                                      }
                                    }
                                  ]
                                }
                              },
                              {
                                "section" : {
                                  "name" : "Package manager",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_MANAGER",
                                        "value" : "default"
                                      }
                                    }
                                  ]
                                }
                              },
                              {
                                "section" : {
                                  "name" : "Package version",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_VERSION",
                                        "value" : "latest"
                                      }
                                    },
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_VERSION_SPECIFIC",
                                        "value" : ""
                                      }
                                    }
                                  ]
                                }
                              },
                              {
                                "section" : {
                                  "name" : "Post-modification script",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_POST_HOOK_COMMAND",
                                        "value" : ""
                                      }
                                    }
                                  ]
                                }
                              }
                            ]
                          }
                        }
                      ]
                    }
                  },
                  "priority" : 5,
                  "enabled" : false,
                  "system" : false,
                  "policyMode" : "default",
                  "tags" : []
                }
              }
            ],
            "rules" : [],
            "groups" : [],
            "parameters" : []
          }
        },
        {
          "id" : 4,
          "displayName" : "first cr group",
          "status" : "Pending deployment",
          "created by" : "test-user",
          "acceptable" : true,
          "description" : "My group first change",
          "changes" : {
            "directives" : [],
            "rules" : [],
            "groups" : [
              {
                "action" : "create",
                "change" : {
                  "type" : "GroupCreateChangeJson",
                  "id" : "0000f5d3-8c61-4d20-88a7-bb947705ba8a",
                  "displayName" : "Real nodes",
                  "description" : "",
                  "nodeIds" : [
                    "node1",
                    "node2",
                    "root"
                  ],
                  "dynamic" : false,
                  "enabled" : true,
                  "groupClass" : [
                    "group_0000f5d3_8c61_4d20_88a7_bb947705ba8a",
                    "group_real_nodes"
                  ],
                  "properties" : [
                    {
                      "name" : "hiddenProp", 
                      "value" : "hidden prop value" 
                    }, 
                    { 
                      "name" : "jsonParam",
                      "value" : {
                        "array" : [
                          5,
                          6
                        ],
                        "group" : "string",
                        "json" : {
                          "g1" : "g1"
                        }
                      }
                    },
                    {
                      "name" : "stringParam",
                      "value" : "string",
                      "inheritMode" : "map",
                      "provider" : "datasources"
                    }
                  ],
                  "target" : "group:0000f5d3-8c61-4d20-88a7-bb947705ba8a",
                  "system" : false
                }
              }
            ],
            "parameters" : []
          }
        },
        {
          "id" : 5,
          "displayName" : "second cr group",
          "status" : "Pending deployment",
          "created by" : "test-user",
          "acceptable" : true,
          "description" : "My group second change",
          "changes" : {
            "directives" : [],
            "rules" : [],
            "groups" : [
              {
                "action" : "modify",
                "change" : {
                  "type" : "GroupModifyChangeJson",
                  "id" : "0000f5d3-8c61-4d20-88a7-bb947705ba8a",
                  "displayName" : {
                    "from" : "Real nodes",
                    "to" : "group_002"
                  },
                  "description" : {
                    "from" : "",
                    "to" : "testing node group change"
                  },
                  "query" : {
                    "to" : "{ returnType:'node' (identity) with 'And' criteria [] }"
                  },
                  "properties" : {
                    "from" : [
                      {
                        "name" : "hiddenProp",
                        "value" : "hidden prop value"
                      },
                      {
                        "name" : "jsonParam",
                        "value" : {
                          "array" : [
                            5,
                            6
                          ],
                          "group" : "string",
                          "json" : {
                            "g1" : "g1"
                          }
                        }
                      },
                      {
                        "name" : "stringParam",
                        "value" : "string",
                        "provider" : "datasources",
                        "inheritMode" : "map"
                      }
                    ],
                    "to" : [
                      {
                        "name" : "stringParam",
                        "value" : "string",
                        "provider" : "datasources",
                        "inheritMode" : "map"
                      }
                    ]
                  },
                  "nodeIds" : {
                    "from" : [
                      "root",
                      "node1",
                      "node2"
                    ],
                    "to" : [
                      "root"
                    ]
                  },
                  "dynamic" : {
                    "from" : false,
                    "to" : true
                  },
                  "enabled" : {
                    "from" : true,
                    "to" : false
                  }
                }
              }
            ],
            "parameters" : []
          }
        },
        {
          "id" : 6,
          "displayName" : "third cr group",
          "status" : "Pending deployment",
          "created by" : "test-user",
          "acceptable" : true,
          "description" : "My group third change",
          "changes" : {
            "directives" : [],
            "rules" : [],
            "groups" : [
              {
                "action" : "delete",
                "change" : {
                  "type" : "GroupDeleteChangeJson",
                  "id" : "0000f5d3-8c61-4d20-88a7-bb947705ba8a",
                  "displayName" : "Real nodes",
                  "description" : "",
                  "nodeIds" : [
                    "node1",
                    "node2",
                    "root"
                  ],
                  "dynamic" : false,
                  "enabled" : true,
                  "groupClass" : [
                    "group_0000f5d3_8c61_4d20_88a7_bb947705ba8a",
                    "group_real_nodes"
                  ],
                  "properties" : [
                    {
                      "name" : "hiddenProp",
                      "value" : "hidden prop value"
                    },
                    {
                      "name" : "jsonParam",
                      "value" : {
                        "array" : [
                          5,
                          6
                        ],
                        "group" : "string",
                        "json" : {
                          "g1" : "g1"
                        }
                      }
                    },
                    {
                      "name" : "stringParam",
                      "value" : "string",
                      "inheritMode" : "map",
                      "provider" : "datasources"
                    }
                  ],
                  "target" : "group:0000f5d3-8c61-4d20-88a7-bb947705ba8a",
                  "system" : false
                }
              }
            ],
            "parameters" : []
          }
        }
      ]
    }
---
description: List all change requests by closed status
method: GET
url: /api/latest/changeRequests
params:
  status: closed
response:
  code: 200
  content: >-
    {
      "action" : "listChangeRequests",
      "result" : "success",
      "data" : [
        {
          "id" : 7,
          "displayName" : "first cr rule",
          "status" : "Deployed",
          "created by" : "test-user",
          "acceptable" : true,
          "description" : "My rule first change",
          "changes" : {
            "directives" : [],
            "rules" : [
              {
                "action" : "create",
                "change" : {
                  "type" : "RuleCreateChangeJson",
                  "id" : "rule2",
                  "displayName" : "50. Deploy PLOP STACK",
                  "categoryId" : "rootRuleCategory",
                  "shortDescription" : "global config for all nodes",
                  "longDescription" : "",
                  "directives" : [
                    "directive2"
                  ],
                  "targets" : [
                    "special:all"
                  ],
                  "enabled" : true,
                  "system" : false,
                  "tags" : [
                    {
                      "key" : "value"
                    }
                  ]
                }
              }
            ],
            "groups" : [],
            "parameters" : []
          }
        },
        {
          "id" : 8,
          "displayName" : "second cr rule",
          "status" : "Deployed",
          "created by" : "test-user",
          "acceptable" : true,
          "description" : "My rule second change",
          "changes" : {
            "directives" : [],
            "rules" : [
              {
                "action" : "modify",
                "change" : {
                  "type" : "RuleModifyChangeJson",
                  "id" : "rule2",
                  "displayName" : {
                    "from" : "50. Deploy PLOP STACK",
                    "to" : "rule_002"
                  },
                  "shortDescription" : {
                    "from" : "global config for all nodes",
                    "to" : "testing rule change"
                  },
                  "longDescription" : {
                    "from" : "",
                    "to" : "testing rule change"
                  },
                  "directives" : {
                    "from" : [
                      "directive2"
                    ],
                    "to" : [
                      "directive1"
                    ]
                  },
                  "targets" : {
                    "from" : [
                      "special:all"
                    ],
                    "to" : [
                      "special:all_exceptPolicyServers"
                    ]
                  },
                  "enabled" : {
                    "from" : true,
                    "to" : false
                  }
                }
              }
            ],
            "groups" : [],
            "parameters" : []
          }
        },
        {
          "id" : 9,
          "displayName" : "third cr rule",
          "status" : "Deployed",
          "created by" : "test-user",
          "acceptable" : true,
          "description" : "My rule third change",
          "changes" : {
            "directives" : [],
            "rules" : [
              {
                "action" : "delete",
                "change" : {
                  "type" : "RuleDeleteChangeJson",
                  "id" : "rule2",
                  "displayName" : "50. Deploy PLOP STACK",
                  "categoryId" : "rootRuleCategory",
                  "shortDescription" : "global config for all nodes",
                  "longDescription" : "",
                  "directives" : [
                    "directive2"
                  ],
                  "targets" : [
                    "special:all"
                  ],
                  "enabled" : true,
                  "system" : false,
                  "tags" : []
                }
              }
            ],
            "groups" : [],
            "parameters" : []
          }
        },
        {
          "id" : 10,
          "displayName" : "first cr global param",
          "status" : "Cancelled",
          "created by" : "test-user",
          "acceptable" : true,
          "description" : "My global param first change",
          "changes" : {
            "directives" : [],
            "rules" : [],
            "groups" : [],
            "parameters" : [
              {
                "action" : "create",
                "change" : {
                  "type" : "GlobalParameterCreateChangeJson",
                  "id" : "jsonParam",
                  "value" : {
                    "array" : [
                      1,
                      3,
                      2
                    ],
                    "json" : {
                      "var1" : "val1",
                      "var2" : "val2"
                    },
                    "string" : "a string"
                  },
                  "description" : "a simple string param"
                }
              }
            ]
          }
        },
        {
          "id" : 11,
          "displayName" : "second cr global param",
          "status" : "Cancelled",
          "created by" : "test-user",
          "acceptable" : true,
          "description" : "My global param second change",
          "changes" : {
            "directives" : [],
            "rules" : [],
            "groups" : [],
            "parameters" : [
              {
                "action" : "modify",
                "change" : {
                  "type" : "GlobalParameterModifyChangeJson",
                  "name" : "jsonParam",
                  "description" : {
                    "from" : "a simple string param",
                    "to" : "testing global param change"
                  },
                  "value" : {
                    "from" : "{\"array\":[1,3,2],\"json\":{\"var1\":\"val1\",\"var2\":\"val2\"},\"string\":\"a string\"}",
                    "to" : "some string"
                  }
                }
              }
            ]
          }
        },
        {
          "id" : 12,
          "displayName" : "third cr global param",
          "status" : "Cancelled",
          "created by" : "test-user",
          "acceptable" : true,
          "description" : "My global param third change",
          "changes" : {
            "directives" : [],
            "rules" : [],
            "groups" : [],
            "parameters" : [
              {
                "action" : "delete",
                "change" : {
                  "type" : "GlobalParameterDeleteChangeJson",
                  "id" : "jsonParam",
                  "value" : {
                    "array" : [
                      1,
                      3,
                      2
                    ],
                    "json" : {
                      "var1" : "val1",
                      "var2" : "val2"
                    },
                    "string" : "a string"
                  },
                  "description" : "a simple string param"
                }
              }
            ]
          }
        }
      ]
    }
---
description: List all change requests with open status by default
method: GET
url: /api/latest/changeRequests
response:
  code: 200
  content: >-
    {
      "action" : "listChangeRequests",
      "result" : "success",
      "data" : [
        {
          "id" : 1,
          "displayName" : "first cr directive",
          "status" : "Pending validation",
          "created by" : "test-user",
          "acceptable" : true,
          "description" : "My directive first change",
          "changes" : {
            "directives" : [
              {
                "action" : "create",
                "change" : {
                  "type" : "DirectiveCreateChangeJson",
                  "id" : "16617aa8-1f02-4e4a-87b6-d0bcdfb4019f",
                  "displayName" : "directive 16617aa8-1f02-4e4a-87b6-d0bcdfb4019f",
                  "shortDescription" : "",
                  "longDescription" : "",
                  "techniqueName" : "packageManagement",
                  "techniqueVersion" : "1.0",
                  "parameters" : {
                    "section" : {
                      "name" : "sections",
                      "sections" : [
                        {
                          "section" : {
                            "name" : "Package",
                            "vars" : [
                              {
                                "var" : {
                                  "name" : "PACKAGE_LIST",
                                  "value" : "htop"
                                }
                              },
                              {
                                "var" : {
                                  "name" : "PACKAGE_STATE",
                                  "value" : "present"
                                }
                              }
                            ],
                            "sections" : [
                              {
                                "section" : {
                                  "name" : "Package architecture",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_ARCHITECTURE",
                                        "value" : "default"
                                      }
                                    },
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_ARCHITECTURE_SPECIFIC",
                                        "value" : ""
                                      }
                                    }
                                  ]
                                }
                              },
                              {
                                "section" : {
                                  "name" : "Package manager",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_MANAGER",
                                        "value" : "default"
                                      }
                                    }
                                  ]
                                }
                              },
                              {
                                "section" : {
                                  "name" : "Package version",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_VERSION",
                                        "value" : "latest"
                                      }
                                    },
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_VERSION_SPECIFIC",
                                        "value" : ""
                                      }
                                    }
                                  ]
                                }
                              },
                              {
                                "section" : {
                                  "name" : "Post-modification script",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_POST_HOOK_COMMAND",
                                        "value" : ""
                                      }
                                    }
                                  ]
                                }
                              }
                            ]
                          }
                        },
                        {
                          "section" : {
                            "name" : "Package",
                            "vars" : [
                              {
                                "var" : {
                                  "name" : "PACKAGE_LIST",
                                  "value" : "jq"
                                }
                              },
                              {
                                "var" : {
                                  "name" : "PACKAGE_STATE",
                                  "value" : "present"
                                }
                              }
                            ],
                            "sections" : [
                              {
                                "section" : {
                                  "name" : "Package architecture",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_ARCHITECTURE",
                                        "value" : "default"
                                      }
                                    },
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_ARCHITECTURE_SPECIFIC",
                                        "value" : ""
                                      }
                                    }
                                  ]
                                }
                              },
                              {
                                "section" : {
                                  "name" : "Package manager",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_MANAGER",
                                        "value" : "default"
                                      }
                                    }
                                  ]
                                }
                              },
                              {
                                "section" : {
                                  "name" : "Package version",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_VERSION",
                                        "value" : "latest"
                                      }
                                    },
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_VERSION_SPECIFIC",
                                        "value" : ""
                                      }
                                    }
                                  ]
                                }
                              },
                              {
                                "section" : {
                                  "name" : "Post-modification script",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_POST_HOOK_COMMAND",
                                        "value" : ""
                                      }
                                    }
                                  ]
                                }
                              }
                            ]
                          }
                        }
                      ]
                    }
                  },
                  "priority" : 5,
                  "enabled" : false,
                  "system" : false,
                  "policyMode" : "default",
                  "tags" : []
                }
              }
            ],
            "rules" : [],
            "groups" : [],
            "parameters" : []
          }
        },
        {
          "id" : 2,
          "displayName" : "second cr directive",
          "status" : "Pending validation",
          "created by" : "test-user",
          "acceptable" : true,
          "description" : "My directive second change",
          "changes" : {
            "directives" : [
              {
                "action" : "modify",
                "change" : {
                  "type" : "DirectiveModifyChangeJson",
                  "id" : "16617aa8-1f02-4e4a-87b6-d0bcdfb4019f",
                  "displayName" : {
                    "from" : "directive 16617aa8-1f02-4e4a-87b6-d0bcdfb4019f",
                    "to" : "pkg_directive_001"
                  },
                  "shortDescription" : {
                    "from" : "",
                    "to" : "testing directive change"
                  },
                  "longDescription" : {
                    "from" : "",
                    "to" : "testing directive change"
                  },
                  "techniqueName" : "packageManagement",
                  "techniqueVersion" : "1.0",
                  "parameters" : {
                    "from" : {
                      "section" : {
                        "name" : "sections",
                        "vars" : [
                          {
                            "var" : {
                              "name" : "PACKAGE_LIST",
                              "value" : "htop"
                            }
                          },
                          {
                            "var" : {
                              "name" : "PACKAGE_STATE",
                              "value" : "present"
                            }
                          }
                        ],
                        "sections" : [
                          {
                            "name" : "Package",
                            "sections" : [
                              {
                                "name" : "Package architecture",
                                "sections" : [
                                  {
                                    "name" : "Package architecture",
                                    "sections" : [
                                      {
                                        "name" : "PACKAGE_ARCHITECTURE",
                                        "sections" : [
                                          {
                                            "name" : "PACKAGE_ARCHITECTURE_SPECIFIC"
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "name" : "Package manager",
                                "sections" : [
                                  {
                                    "name" : "PACKAGE_MANAGER"
                                  }
                                ]
                              },
                              {
                                "name" : "Package version",
                                "sections" : [
                                  {
                                    "name" : "PACKAGE_VERSION",
                                    "sections" : [
                                      {
                                        "name" : "PACKAGE_VERSION_SPECIFIC"
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "name" : "Post-modification script",
                                "sections" : [
                                  {
                                    "name" : "PACKAGE_POST_HOOK_COMMAND"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    },
                    "to" : {
                      "section" : {
                        "name" : "sections",
                        "vars" : [
                          {
                            "var" : {
                              "name" : "PACKAGE_LIST",
                              "value" : "curl"
                            }
                          },
                          {
                            "var" : {
                              "name" : "PACKAGE_STATE",
                              "value" : "present"
                            }
                          }
                        ],
                        "sections" : [
                          {
                            "name" : "Package",
                            "sections" : [
                              {
                                "name" : "Package architecture",
                                "sections" : [
                                  {
                                    "name" : "Package architecture",
                                    "sections" : [
                                      {
                                        "name" : "PACKAGE_ARCHITECTURE",
                                        "sections" : [
                                          {
                                            "name" : "PACKAGE_ARCHITECTURE_SPECIFIC"
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "name" : "Package manager",
                                "sections" : [
                                  {
                                    "name" : "PACKAGE_MANAGER"
                                  }
                                ]
                              },
                              {
                                "name" : "Package version",
                                "sections" : [
                                  {
                                    "name" : "PACKAGE_VERSION",
                                    "sections" : [
                                      {
                                        "name" : "PACKAGE_VERSION_SPECIFIC"
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "name" : "Post-modification script",
                                "sections" : [
                                  {
                                    "name" : "PACKAGE_POST_HOOK_COMMAND"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    }
                  },
                  "priority" : {
                    "from" : 5,
                    "to" : 1
                  },
                  "enabled" : {
                    "from" : false,
                    "to" : true
                  },
                  "system" : false
                }
              }
            ],
            "rules" : [],
            "groups" : [],
            "parameters" : []
          }
        },
        {
          "id" : 3,
          "displayName" : "third cr directive",
          "status" : "Pending validation",
          "created by" : "test-user",
          "acceptable" : true,
          "description" : "My directive third change",
          "changes" : {
            "directives" : [
              {
                "action" : "delete",
                "change" : {
                  "type" : "DirectiveDeleteChangeJson",
                  "id" : "16617aa8-1f02-4e4a-87b6-d0bcdfb4019f",
                  "displayName" : "directive 16617aa8-1f02-4e4a-87b6-d0bcdfb4019f",
                  "shortDescription" : "",
                  "longDescription" : "",
                  "techniqueName" : "packageManagement",
                  "techniqueVersion" : "1.0",
                  "parameters" : {
                    "section" : {
                      "name" : "sections",
                      "sections" : [
                        {
                          "section" : {
                            "name" : "Package",
                            "vars" : [
                              {
                                "var" : {
                                  "name" : "PACKAGE_LIST",
                                  "value" : "htop"
                                }
                              },
                              {
                                "var" : {
                                  "name" : "PACKAGE_STATE",
                                  "value" : "present"
                                }
                              }
                            ],
                            "sections" : [
                              {
                                "section" : {
                                  "name" : "Package architecture",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_ARCHITECTURE",
                                        "value" : "default"
                                      }
                                    },
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_ARCHITECTURE_SPECIFIC",
                                        "value" : ""
                                      }
                                    }
                                  ]
                                }
                              },
                              {
                                "section" : {
                                  "name" : "Package manager",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_MANAGER",
                                        "value" : "default"
                                      }
                                    }
                                  ]
                                }
                              },
                              {
                                "section" : {
                                  "name" : "Package version",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_VERSION",
                                        "value" : "latest"
                                      }
                                    },
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_VERSION_SPECIFIC",
                                        "value" : ""
                                      }
                                    }
                                  ]
                                }
                              },
                              {
                                "section" : {
                                  "name" : "Post-modification script",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_POST_HOOK_COMMAND",
                                        "value" : ""
                                      }
                                    }
                                  ]
                                }
                              }
                            ]
                          }
                        },
                        {
                          "section" : {
                            "name" : "Package",
                            "vars" : [
                              {
                                "var" : {
                                  "name" : "PACKAGE_LIST",
                                  "value" : "jq"
                                }
                              },
                              {
                                "var" : {
                                  "name" : "PACKAGE_STATE",
                                  "value" : "present"
                                }
                              }
                            ],
                            "sections" : [
                              {
                                "section" : {
                                  "name" : "Package architecture",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_ARCHITECTURE",
                                        "value" : "default"
                                      }
                                    },
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_ARCHITECTURE_SPECIFIC",
                                        "value" : ""
                                      }
                                    }
                                  ]
                                }
                              },
                              {
                                "section" : {
                                  "name" : "Package manager",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_MANAGER",
                                        "value" : "default"
                                      }
                                    }
                                  ]
                                }
                              },
                              {
                                "section" : {
                                  "name" : "Package version",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_VERSION",
                                        "value" : "latest"
                                      }
                                    },
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_VERSION_SPECIFIC",
                                        "value" : ""
                                      }
                                    }
                                  ]
                                }
                              },
                              {
                                "section" : {
                                  "name" : "Post-modification script",
                                  "vars" : [
                                    {
                                      "var" : {
                                        "name" : "PACKAGE_POST_HOOK_COMMAND",
                                        "value" : ""
                                      }
                                    }
                                  ]
                                }
                              }
                            ]
                          }
                        }
                      ]
                    }
                  },
                  "priority" : 5,
                  "enabled" : false,
                  "system" : false,
                  "policyMode" : "default",
                  "tags" : []
                }
              }
            ],
            "rules" : [],
            "groups" : [],
            "parameters" : []
          }
        },
        {
          "id" : 4,
          "displayName" : "first cr group",
          "status" : "Pending deployment",
          "created by" : "test-user",
          "acceptable" : true,
          "description" : "My group first change",
          "changes" : {
            "directives" : [],
            "rules" : [],
            "groups" : [
              {
                "action" : "create",
                "change" : {
                  "type" : "GroupCreateChangeJson",
                  "id" : "0000f5d3-8c61-4d20-88a7-bb947705ba8a",
                  "displayName" : "Real nodes",
                  "description" : "",
                  "nodeIds" : [
                    "node1",
                    "node2",
                    "root"
                  ],
                  "dynamic" : false,
                  "enabled" : true,
                  "groupClass" : [
                    "group_0000f5d3_8c61_4d20_88a7_bb947705ba8a",
                    "group_real_nodes"
                  ],
                  "properties" : [
                    {
                      "name" : "hiddenProp",
                      "value" : "hidden prop value"
                    },
                    {
                      "name" : "jsonParam",
                      "value" : {
                        "array" : [
                          5,
                          6
                        ],
                        "group" : "string",
                        "json" : {
                          "g1" : "g1"
                        }
                      }
                    },
                    {
                      "name" : "stringParam",
                      "value" : "string",
                      "inheritMode" : "map",
                      "provider" : "datasources"
                    }
                  ],
                  "target" : "group:0000f5d3-8c61-4d20-88a7-bb947705ba8a",
                  "system" : false
                }
              }
            ],
            "parameters" : []
          }
        },
        {
          "id" : 5,
          "displayName" : "second cr group",
          "status" : "Pending deployment",
          "created by" : "test-user",
          "acceptable" : true,
          "description" : "My group second change",
          "changes" : {
            "directives" : [],
            "rules" : [],
            "groups" : [
              {
                "action" : "modify",
                "change" : {
                  "type" : "GroupModifyChangeJson",
                  "id" : "0000f5d3-8c61-4d20-88a7-bb947705ba8a",
                  "displayName" : {
                    "from" : "Real nodes",
                    "to" : "group_002"
                  },
                  "description" : {
                    "from" : "",
                    "to" : "testing node group change"
                  },
                  "query" : {
                    "to" : "{ returnType:'node' (identity) with 'And' criteria [] }"
                  },
                  "properties" : {
                    "from" : [
                      {
                        "name" : "hiddenProp",
                        "value" : "hidden prop value"
                      },
                      {
                        "name" : "jsonParam",
                        "value" : {
                          "array" : [
                            5,
                            6
                          ],
                          "group" : "string",
                          "json" : {
                            "g1" : "g1"
                          }
                        }
                      },
                      {
                        "name" : "stringParam",
                        "value" : "string",
                        "provider" : "datasources",
                        "inheritMode" : "map"
                      }
                    ],
                    "to" : [
                      {
                        "name" : "stringParam",
                        "value" : "string",
                        "provider" : "datasources",
                        "inheritMode" : "map"
                      }
                    ]
                  },
                  "nodeIds" : {
                    "from" : [
                      "root",
                      "node1",
                      "node2"
                    ],
                    "to" : [
                      "root"
                    ]
                  },
                  "dynamic" : {
                    "from" : false,
                    "to" : true
                  },
                  "enabled" : {
                    "from" : true,
                    "to" : false
                  }
                }
              }
            ],
            "parameters" : []
          }
        },
        {
          "id" : 6,
          "displayName" : "third cr group",
          "status" : "Pending deployment",
          "created by" : "test-user",
          "acceptable" : true,
          "description" : "My group third change",
          "changes" : {
            "directives" : [],
            "rules" : [],
            "groups" : [
              {
                "action" : "delete",
                "change" : {
                  "type" : "GroupDeleteChangeJson",
                  "id" : "0000f5d3-8c61-4d20-88a7-bb947705ba8a",
                  "displayName" : "Real nodes",
                  "description" : "",
                  "nodeIds" : [
                    "node1",
                    "node2",
                    "root"
                  ],
                  "dynamic" : false,
                  "enabled" : true,
                  "groupClass" : [
                    "group_0000f5d3_8c61_4d20_88a7_bb947705ba8a",
                    "group_real_nodes"
                  ],
                  "properties" : [
                    {
                      "name" : "hiddenProp",
                      "value" : "hidden prop value"
                    },
                    {
                      "name" : "jsonParam",
                      "value" : {
                        "array" : [
                          5,
                          6
                        ],
                        "group" : "string",
                        "json" : {
                          "g1" : "g1"
                        }
                      }
                    },
                    {
                      "name" : "stringParam",
                      "value" : "string",
                      "inheritMode" : "map",
                      "provider" : "datasources"
                    }
                  ],
                  "target" : "group:0000f5d3-8c61-4d20-88a7-bb947705ba8a",
                  "system" : false
                }
              }
            ],
            "parameters" : []
          }
        }
      ]
    }
---
description: List all change requests when status is unknown
method: GET
url: /api/latest/changeRequests
params:
  status: unknown
response:
  code: 500
  content: >-
    {
      "action": "listChangeRequests",
      "result": "error",
      "errorDetails": "'unknown' is not a possible state for change requests"
    }
---
description: Get information about given change request
method: GET
url: /api/latest/changeRequests/12
response:
  code: 200
  content: >-
    {
      "action" : "changeRequestDetails",
      "id" : "12",
      "result" : "success",
      "data" : {
        "changeRequests" : [
          {
            "id" : 12,
            "displayName" : "third cr global param",
            "status" : "Cancelled",
            "created by" : "test-user",
            "acceptable" : true,
            "description" : "My global param third change",
            "changes" : {
              "directives" : [],
              "rules" : [],
              "groups" : [],
              "parameters" : [
                {
                  "action" : "delete",
                  "change" : {
                    "type": "GlobalParameterDeleteChangeJson",
                    "id" : "jsonParam",
                    "value" : {
                      "array" : [
                        1,
                        3,
                        2
                      ],
                      "json" : {
                        "var1" : "val1",
                        "var2" : "val2"
                      },
                      "string" : "a string"
                    },
                    "description" : "a simple string param"
                  }
                }
              ]
            }
          }
        ]
      }
    }
---
description: Get information about given change request when id is unknown
method: GET
url: /api/latest/changeRequests/999
response:
  code: 500
  content: >-
    {
      "action": "changeRequestDetails",
      "id": "999",
      "result": "error",
      "errorDetails": "Could not find ChangeRequest 999; cause was: Inconsistency: Change request with id 999 does not exist."
    }
---
description: Get information about given change request when id is not a number
method: GET
url: /api/latest/changeRequests/aaa
response:
  code: 500
  content: >-
    {
      "action": "changeRequestDetails",
      "id": "aaa",
      "result": "error",
      "errorDetails": "Could not find ChangeRequest aaa; cause was: Inconsistency: 'aaa' is not a valid change request id (need to be an integer)"
    }
---
description: Decline given change request
method: DELETE
url: /api/latest/changeRequests/1
response:
  code: 200
  content: >-
    {
      "action": "declineChangeRequest",
      "id": "1",
      "result": "success",
      "data": {
        "changeRequests": [
          {
            "id" : 1,
            "displayName" : "first cr directive",
            "status" : "Cancelled",
            "created by" : "test-user",
            "acceptable" : true,
            "description" : "My directive first change",
            "changes" : {
              "directives" : [
                {
                  "action" : "create",
                  "change" : {
                    "type" : "DirectiveCreateChangeJson",
                    "id" : "16617aa8-1f02-4e4a-87b6-d0bcdfb4019f",
                    "displayName" : "directive 16617aa8-1f02-4e4a-87b6-d0bcdfb4019f",
                    "shortDescription" : "",
                    "longDescription" : "",
                    "techniqueName" : "packageManagement",
                    "techniqueVersion" : "1.0",
                    "parameters" : {
                      "section" : {
                        "name" : "sections",
                        "sections" : [
                          {
                            "section" : {
                              "name" : "Package",
                              "vars" : [
                                {
                                  "var" : {
                                    "name" : "PACKAGE_LIST",
                                    "value" : "htop"
                                  }
                                },
                                {
                                  "var" : {
                                    "name" : "PACKAGE_STATE",
                                    "value" : "present"
                                  }
                                }
                              ],
                              "sections" : [
                                {
                                  "section" : {
                                    "name" : "Package architecture",
                                    "vars" : [
                                      {
                                        "var" : {
                                          "name" : "PACKAGE_ARCHITECTURE",
                                          "value" : "default"
                                        }
                                      },
                                      {
                                        "var" : {
                                          "name" : "PACKAGE_ARCHITECTURE_SPECIFIC",
                                          "value" : ""
                                        }
                                      }
                                    ]
                                  }
                                },
                                {
                                  "section" : {
                                    "name" : "Package manager",
                                    "vars" : [
                                      {
                                        "var" : {
                                          "name" : "PACKAGE_MANAGER",
                                          "value" : "default"
                                        }
                                      }
                                    ]
                                  }
                                },
                                {
                                  "section" : {
                                    "name" : "Package version",
                                    "vars" : [
                                      {
                                        "var" : {
                                          "name" : "PACKAGE_VERSION",
                                          "value" : "latest"
                                        }
                                      },
                                      {
                                        "var" : {
                                          "name" : "PACKAGE_VERSION_SPECIFIC",
                                          "value" : ""
                                        }
                                      }
                                    ]
                                  }
                                },
                                {
                                  "section" : {
                                    "name" : "Post-modification script",
                                    "vars" : [
                                      {
                                        "var" : {
                                          "name" : "PACKAGE_POST_HOOK_COMMAND",
                                          "value" : ""
                                        }
                                      }
                                    ]
                                  }
                                }
                              ]
                            }
                          },
                          {
                            "section" : {
                              "name" : "Package",
                              "vars" : [
                                {
                                  "var" : {
                                    "name" : "PACKAGE_LIST",
                                    "value" : "jq"
                                  }
                                },
                                {
                                  "var" : {
                                    "name" : "PACKAGE_STATE",
                                    "value" : "present"
                                  }
                                }
                              ],
                              "sections" : [
                                {
                                  "section" : {
                                    "name" : "Package architecture",
                                    "vars" : [
                                      {
                                        "var" : {
                                          "name" : "PACKAGE_ARCHITECTURE",
                                          "value" : "default"
                                        }
                                      },
                                      {
                                        "var" : {
                                          "name" : "PACKAGE_ARCHITECTURE_SPECIFIC",
                                          "value" : ""
                                        }
                                      }
                                    ]
                                  }
                                },
                                {
                                  "section" : {
                                    "name" : "Package manager",
                                    "vars" : [
                                      {
                                        "var" : {
                                          "name" : "PACKAGE_MANAGER",
                                          "value" : "default"
                                        }
                                      }
                                    ]
                                  }
                                },
                                {
                                  "section" : {
                                    "name" : "Package version",
                                    "vars" : [
                                      {
                                        "var" : {
                                          "name" : "PACKAGE_VERSION",
                                          "value" : "latest"
                                        }
                                      },
                                      {
                                        "var" : {
                                          "name" : "PACKAGE_VERSION_SPECIFIC",
                                          "value" : ""
                                        }
                                      }
                                    ]
                                  }
                                },
                                {
                                  "section" : {
                                    "name" : "Post-modification script",
                                    "vars" : [
                                      {
                                        "var" : {
                                          "name" : "PACKAGE_POST_HOOK_COMMAND",
                                          "value" : ""
                                        }
                                      }
                                    ]
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    },
                    "priority" : 5,
                    "enabled" : false,
                    "system" : false,
                    "policyMode" : "default",
                    "tags" : []
                  }
                }
              ],
              "rules" : [],
              "groups" : [],
              "parameters" : []
            }
          } 
        ]
      }
    }
---
description: Decline given change request when it cannot be declined
method: DELETE
url: /api/latest/changeRequests/12
response:
  code: 500
  content: >-
    {
      "action": "declineChangeRequest",
      "id": "12",
      "result": "error",
      "errorDetails": "Could not decline ChangeRequest 12; cause was: Inconsistency: Could not decline ChangeRequest 12 details cause is: could not decline ChangeRequest 12, because status 'Cancelled' cannot be cancelled."
    }
---
description: Decline given change request when id is unknown
method: DELETE
url: /api/latest/changeRequests/999
response:
  code: 500
  content: >-
    {
      "action": "declineChangeRequest",
      "id": "999",
      "result": "error",
      "errorDetails": "Could not decline ChangeRequest 999; cause was: Inconsistency: Change request with id 999 does not exist."
    }
---
description: Decline given change request when id is not a number
method: DELETE
url: /api/latest/changeRequests/aaa
response:
  code: 500
  content: >-
    {
      "action": "declineChangeRequest",
      "id": "aaa",
      "result": "error",
      "errorDetails": "Could not decline ChangeRequest aaa; cause was: Inconsistency: 'aaa' is not a valid change request id (need to be an integer)"
    }
---
description: Accept given change request
method: POST
url: /api/latest/changeRequests/1/accept
headers:
  - "Content-Type: application/x-www-form-urlencoded"
params:
  status: Pending deployment
response:
  code: 200
  content: >-
    {
      "action": "acceptChangeRequest",
      "id": "1",
      "result": "success",
      "data": {
        "changeRequests": [
          {
            "id" : 1,
            "displayName" : "first cr directive",
            "status" : "Pending deployment",
            "created by" : "test-user",
            "acceptable" : true,
            "description" : "My directive first change",
            "changes" : {
              "directives" : [
                {
                  "action" : "create",
                  "change" : {
                    "type" : "DirectiveCreateChangeJson",
                    "id" : "16617aa8-1f02-4e4a-87b6-d0bcdfb4019f",
                    "displayName" : "directive 16617aa8-1f02-4e4a-87b6-d0bcdfb4019f",
                    "shortDescription" : "",
                    "longDescription" : "",
                    "techniqueName" : "packageManagement",
                    "techniqueVersion" : "1.0",
                    "parameters" : {
                      "section" : {
                        "name" : "sections",
                        "sections" : [
                          {
                            "section" : {
                              "name" : "Package",
                              "vars" : [
                                {
                                  "var" : {
                                    "name" : "PACKAGE_LIST",
                                    "value" : "htop"
                                  }
                                },
                                {
                                  "var" : {
                                    "name" : "PACKAGE_STATE",
                                    "value" : "present"
                                  }
                                }
                              ],
                              "sections" : [
                                {
                                  "section" : {
                                    "name" : "Package architecture",
                                    "vars" : [
                                      {
                                        "var" : {
                                          "name" : "PACKAGE_ARCHITECTURE",
                                          "value" : "default"
                                        }
                                      },
                                      {
                                        "var" : {
                                          "name" : "PACKAGE_ARCHITECTURE_SPECIFIC",
                                          "value" : ""
                                        }
                                      }
                                    ]
                                  }
                                },
                                {
                                  "section" : {
                                    "name" : "Package manager",
                                    "vars" : [
                                      {
                                        "var" : {
                                          "name" : "PACKAGE_MANAGER",
                                          "value" : "default"
                                        }
                                      }
                                    ]
                                  }
                                },
                                {
                                  "section" : {
                                    "name" : "Package version",
                                    "vars" : [
                                      {
                                        "var" : {
                                          "name" : "PACKAGE_VERSION",
                                          "value" : "latest"
                                        }
                                      },
                                      {
                                        "var" : {
                                          "name" : "PACKAGE_VERSION_SPECIFIC",
                                          "value" : ""
                                        }
                                      }
                                    ]
                                  }
                                },
                                {
                                  "section" : {
                                    "name" : "Post-modification script",
                                    "vars" : [
                                      {
                                        "var" : {
                                          "name" : "PACKAGE_POST_HOOK_COMMAND",
                                          "value" : ""
                                        }
                                      }
                                    ]
                                  }
                                }
                              ]
                            }
                          },
                          {
                            "section" : {
                              "name" : "Package",
                              "vars" : [
                                {
                                  "var" : {
                                    "name" : "PACKAGE_LIST",
                                    "value" : "jq"
                                  }
                                },
                                {
                                  "var" : {
                                    "name" : "PACKAGE_STATE",
                                    "value" : "present"
                                  }
                                }
                              ],
                              "sections" : [
                                {
                                  "section" : {
                                    "name" : "Package architecture",
                                    "vars" : [
                                      {
                                        "var" : {
                                          "name" : "PACKAGE_ARCHITECTURE",
                                          "value" : "default"
                                        }
                                      },
                                      {
                                        "var" : {
                                          "name" : "PACKAGE_ARCHITECTURE_SPECIFIC",
                                          "value" : ""
                                        }
                                      }
                                    ]
                                  }
                                },
                                {
                                  "section" : {
                                    "name" : "Package manager",
                                    "vars" : [
                                      {
                                        "var" : {
                                          "name" : "PACKAGE_MANAGER",
                                          "value" : "default"
                                        }
                                      }
                                    ]
                                  }
                                },
                                {
                                  "section" : {
                                    "name" : "Package version",
                                    "vars" : [
                                      {
                                        "var" : {
                                          "name" : "PACKAGE_VERSION",
                                          "value" : "latest"
                                        }
                                      },
                                      {
                                        "var" : {
                                          "name" : "PACKAGE_VERSION_SPECIFIC",
                                          "value" : ""
                                        }
                                      }
                                    ]
                                  }
                                },
                                {
                                  "section" : {
                                    "name" : "Post-modification script",
                                    "vars" : [
                                      {
                                        "var" : {
                                          "name" : "PACKAGE_POST_HOOK_COMMAND",
                                          "value" : ""
                                        }
                                      }
                                    ]
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    },
                    "priority" : 5,
                    "enabled" : false,
                    "system" : false,
                    "policyMode" : "default",
                    "tags" : []
                  }
                }
              ],
              "rules" : [],
              "groups" : [],
              "parameters" : []
            }
          }
        ]
      }
    }
---
description: Accept given change request without target status
method: POST
url: /api/latest/changeRequests/1/accept
response:
  code: 500
  content: >-
    {
      "action": "acceptChangeRequest",
      "id": "1",
      "result": "error",
      "errorDetails": "workflow status should not be empty"
    }
---
description: Accept given change request when id is unknown
method: POST
url: /api/latest/changeRequests/999/accept
headers:
  - "Content-Type: application/x-www-form-urlencoded"
params:
  status: Pending deployment
response:
  code: 500
  content: >-
    {
      "action": "acceptChangeRequest",
      "id": "999",
      "result": "error",
      "errorDetails": "Could not accept ChangeRequest 999; cause was: Inconsistency: Change request with id 999 does not exist."
    }
---
description: Accept given change request when id is not a number
method: POST
url: /api/latest/changeRequests/aaa/accept
headers:
  - "Content-Type: application/x-www-form-urlencoded"
params:
  status: Pending deployment
response:
  code: 500
  content: >-
    {
      "action": "acceptChangeRequest",
      "id": "aaa",
      "result": "error",
      "errorDetails": "Could not accept ChangeRequest aaa; cause was: Inconsistency: 'aaa' is not a valid change request id (need to be an integer)"
    }
---
description: Update information about given change request
method: POST
url: /api/latest/changeRequests/4
headers:
  - "Content-Type: application/x-www-form-urlencoded"
params:
  name: "my group new name"
  description: "My group new description"
response:
  code: 200
  content: >-
    {
      "action" : "updateChangeRequest",
      "id" : "4",
      "result" : "success",
      "data" : {
        "changeRequests" : [
          {
            "id" : 4,
            "displayName" : "my group new name",
            "status" : "Pending deployment",
            "created by" : "test-user",
            "acceptable" : true,
            "description" : "My group new description",
            "changes" : {
              "directives" : [],
              "rules" : [],
              "groups" : [
                {
                  "action" : "create",
                  "change" : {
                    "type" : "GroupCreateChangeJson",
                    "id" : "0000f5d3-8c61-4d20-88a7-bb947705ba8a",
                    "displayName" : "Real nodes",
                    "description" : "",
                    "nodeIds" : [
                      "node1",
                      "node2",
                      "root"
                    ],
                    "dynamic" : false,
                    "enabled" : true,
                    "groupClass" : [
                      "group_0000f5d3_8c61_4d20_88a7_bb947705ba8a",
                      "group_real_nodes"
                    ],
                    "properties" : [
                      {
                        "name" : "hiddenProp",
                        "value" : "hidden prop value"
                      },
                      {
                        "name" : "jsonParam",
                        "value" : {
                          "array" : [
                            5,
                            6
                          ],
                          "group" : "string",
                          "json" : {
                            "g1" : "g1"
                          }
                        }
                      },
                      {
                        "name" : "stringParam",
                        "value" : "string",
                        "inheritMode" : "map",
                        "provider" : "datasources"
                      }
                    ],
                    "target" : "group:0000f5d3-8c61-4d20-88a7-bb947705ba8a",
                    "system" : false
                  }
                }
              ],
              "parameters" : []
            }
          }
        ]
      }
    }
---
description: Update information about given change request when id is unknown
method: POST
url: /api/latest/changeRequests/999
headers:
  - "Content-Type: application/x-www-form-urlencoded"
params:
  name: "my group new name"
  description: "My group new description"
response:
  code: 500
  content: >-
    {
      "action": "updateChangeRequest",
      "id": "999",
      "result": "error",
      "errorDetails": "Could not update ChangeRequest 999; cause was: Inconsistency: Change request with id 999 does not exist."
    }
---
description: Update information about given change request when id is not a number
method: POST
url: /api/latest/changeRequests/aaa
headers:
  - "Content-Type: application/x-www-form-urlencoded"
params:
  name: "my group new name"
  description: "My group new description"
response:
  code: 500
  content: >-
    {
      "action": "updateChangeRequest",
      "id": "aaa",
      "result": "error",
      "errorDetails": "Could not update ChangeRequest aaa; cause was: Inconsistency: 'aaa' is not a valid change request id (need to be an integer)"
    }
---
description: Update information about given change request when no parameter is sent
method: POST
url: /api/latest/changeRequests/4
response:
  code: 500
  content: >-
    {
      "action": "updateChangeRequest",
      "id": "4",
      "result": "error",
      "errorDetails": "Could not update ChangeRequest 4; cause was: Inconsistency: Could not update ChangeRequest 4 details cause is: No changes to save."
    }
---
description: Update information about given change request without changing any info
method: POST
url: /api/latest/changeRequests/11
headers:
  - "Content-Type: application/x-www-form-urlencoded"
params:
  name: "second cr global param"
  description: "My global param second change"
response:
  code: 500
  content: >-
    {
      "action" : "updateChangeRequest",
      "id" : "11",
      "result" : "error",
      "errorDetails" : "Could not update ChangeRequest 11; cause was: Inconsistency: Could not update ChangeRequest 11 details cause is: No changes to save."
    }
